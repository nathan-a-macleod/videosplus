<!DOCTYPE html>
<html>
    <head>
        <title>Videos Plus Main Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <link rel="icon" type="image/x-icon" href="favicon.png">
        <link rel="apple-touch-icon" href="icon.png">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700;900&display=swap" rel="stylesheet">

        <style>
            body{
                margin: 56px;
            }

            h2{
                font-size: 32px;
                font-family: "Lato", sans-serif;
                font-weight: 900;
                font-style: normal;
                letter-spacing: -1.28px;
            }

            p{
                color: #434343;
                font-family: "Lato", sans-serif;
                font-weight: 400;
                font-style: normal;
            }

            h3{
                font-size: 24px;
                font-family: "Lato", sans-serif;
                font-weight: 900;
                font-style: normal;
                letter-spacing: -0.96px;
            }

            iframe{
                width: 100%;
                height: 180px;
            }
        </style>
    </head>
    <body>
        <h2>Home</h2>
        <h3>Latest</h3>
        <div id="videoContainer"></div>
        <script>
            const library = {
                Business: {
                    videos: [
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                    ]
                },
                Technology: {
                    videos: [
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                    ]
                },
                Health: {
                    videos: [
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                    ]
                },
                Lifestyle: {
                    videos: [
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                    ]
                },
                Finance: {
                    videos: [
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                    ]
                },
                Politics: {
                    videos: [
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                    ]
                },
                Science: {
                    videos: [
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                        "https://www.youtube.com/embed/jlunz2q-x6M", 
                    ]
                }
            };

            const storedCategories = JSON.parse(localStorage.getItem('selectedCategories'));
            if (storedCategories == null) {
                location.href = "index.html";
            }

            for (const category of storedCategories) {
                for (const videoID of library[category].videos){
                    const iframe = document.createElement('iframe');
                    
                    // Set attributes for the iframe
                    iframe.width = '560';
                    iframe.height = '315';
                    iframe.src = videoID;
                    iframe.frameBorder = '0';
                    iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
                    iframe.allowFullscreen = true;

                    // Get the container element where the iframe will be added
                    const container = document.getElementById("videoContainer");

                    // Append the iframe to the container
                    container.appendChild(iframe);
                }
            }
        </script>
    </body>
</html>