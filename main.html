<!DOCTYPE html>
<html>
    <head>
        <title>Videos Plus Main Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <link rel="icon" type="image/x-icon" href="favicon.png">
        <link rel="apple-touch-icon" href="icon.png">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700;900&display=swap" rel="stylesheet">

        <style>
            body{
                margin: 56px;
            }

            h2{
                font-size: 32px;
                font-family: "Lato", sans-serif;
                font-weight: 900;
                font-style: normal;
                letter-spacing: -1.28px;
            }

            p{
                color: #434343;
                font-family: "Lato", sans-serif;
                font-weight: 400;
                font-style: normal;
            }

            h3{
                font-size: 24px;
                font-family: "Lato", sans-serif;
                font-weight: 900;
                font-style: normal;
                letter-spacing: -0.96px;
            }

            iframe{
                width: 100%;
                height: 180px;
            }

            button{
                width: 100%;
                background-color: #DD5930;
                border: 0px;
                padding: 10px;
                border-radius: 8px;
                color: #fff;
                font-family: "Lato", sans-serif;
                font-weight: 700;
                font-style: normal;
            }

            #resetBtn{
                background-color: #fff;
                border: 2px #DD5930 solid;
                color: #DD5930;
            }

            #refreshBtn{
                margin-top: 24px;
            }
        </style>
    </head>
    <body>
        <h2>Home</h2>
        <button id="resetBtn" onclick="localStorage.setItem('selectedCategories', null); location.reload();">Reset Preferences</button>
        <button id="refreshBtn" onclick="location.reload();">Refresh ⟳</button>
        <h3>Recommended</h3>
        <div id="videoContainer"></div>
        <script>

            const library = {
                Business: {
                    videos: [
                        {
                            src: "https://www.youtube.com/embed/bXLZ8I7s8tw",
                            title: "5 Steps to Start Your First Business",
                            description: "",
                            channelName: "Ali Abdaal"
                        },
                        {
                            src: "https://www.youtube.com/embed/d2JPEDpMiw8",
                            title: "If I Started YouTube While Working Full-Time, I’d Do This",
                            description: "",
                            channelName: "Ali Abdaal"
                        },
                        {
                            src: "https://www.youtube.com/embed/TmuDsq4m4Ts",
                            title: "A Beginner's Guide to Making Money with Online Courses",
                            description: "",
                            channelName: "Ali Abdaal"
                        },
                        {
                            src: "https://www.youtube.com/embed/5MjjpB8SPMo",
                            title: "GENIUS Strategy To Make Everyone Want to Buy Your Stuff",
                            description: "",
                            channelName: "Alex Hormozi"
                        },
                        {
                            src: "https://www.youtube.com/embed/jzKpAtzKQ54",
                            title: "Business Owners: You NEED to Know This Number",
                            description: "",
                            channelName: "Alex Hormozi"
                        },
                        {
                            src: "https://www.youtube.com/embed/41EvCgwPrDc",
                            title: "Make More Profit than 99% of Businesses",
                            description: "",
                            channelName: "Alex Hormozi"
                        },
                        {
                            src: "https://www.youtube.com/embed/w0YQ40pIuYs",
                            title: "63 Business Ideas In 22 Minutes | Make Money Online",
                            description: "",
                            channelName: "Simon Squibb"
                        },
                        {
                            src: "https://www.youtube.com/embed/pfQL-M4lkdw",
                            title: "How To Set Up A Business In 47 Minutes",
                            description: "",
                            channelName: "Simon Squibb"
                        },
                        {
                            src: "https://www.youtube.com/embed/QIQYzi7IPGk",
                            title: "30 Years Of Marketing Knowledge In 53 Minutes",
                            description: "",
                            channelName: "Simon Squibb"
                        },
                    ]
                },
                Technology: {
                    videos: [
                        {
                            src: "https://www.youtube.com/embed/EGkGRs6YhoM",
                            title: "Google Pixel 9/Pro Review: Gimmick or Good?",
                            description: "",
                            channelName: "Marques Brownlee"
                        },
                        {
                            src: "https://www.youtube.com/embed/vJEbP2Vdq2U",
                            title: "What's going on with Windows Laptops?",
                            description: "",
                            channelName: "Marques Brownlee"
                        },
                        {
                            src: "https://www.youtube.com/embed/qkYoBNdcXBU",
                            title: "WWDC 2024 Recap: Is Apple Intelligence Legit?",
                            description: "",
                            channelName: "Marques Brownlee"
                        },
                        {
                            src: "https://www.youtube.com/embed/8Lb9023_D0A",
                            title: "Google Pixel 9 Pro Review - Redemption Time!?",
                            description: "",
                            channelName: "Mrwhosetheboss"
                        },
                        {
                            src: "https://www.youtube.com/embed/wVYG1mu8Lg8",
                            title: "The Internet is starting to Break - Here's Why.",
                            description: "",
                            channelName: "Mrwhosetheboss"
                        },
                        {
                            src: "https://www.youtube.com/embed/btmeie5A4yE",
                            title: "Samsung S24 Ultra vs iPhone 15 Pro Max Camera Battle!",
                            description: "",
                            channelName: "Mrwhosetheboss"
                        },
                        {
                            src: "https://www.youtube.com/embed/IS0SItAzEXg",
                            title: "Be gentle with Apples new Titanium iPhone 15 Pro Max ... Yikes!",
                            description: "",
                            channelName: "JerryRigEverything"
                        },
                        {
                            src: "https://www.youtube.com/embed/rxBCPglhJes",
                            title: "What is it *REALLY* like owning a Rivian? - Time to spill the dirt...",
                            description: "",
                            channelName: "JerryRigEverything"
                        },
                        {
                            src: "https://www.youtube.com/embed/LmcWMjBpYBU",
                            title: "Be gentle with the Apple Vision Pro - ITS PLASTIC!!",
                            description: "",
                            channelName: "JerryRigEverything"
                        },
                    ]
                },
                Finance: {
                    videos: [
                        {
                            src: "https://www.youtube.com/embed/xyBhbVRNClc",
                            title: "The #1 Wealth Killer That Keeps You Poor",
                            description: "",
                            channelName: "The Graham Stephan Show"
                        },
                        {
                            src: "https://www.youtube.com/embed/tldVTm4s070",
                            title: "Why Car Ownership Is Getting So Expensive",
                            description: "",
                            channelName: "The Graham Stephan Show"
                        },
                        {
                            src: "https://www.youtube.com/embed/G4zSzsfNUw0",
                            title: "Why U.S. Banks Are At Risk Of Failing",
                            description: "",
                            channelName: "The Graham Stephan Show"
                        },
                        {
                            src: "https://www.youtube.com/embed/sZUfTwjIakg",
                            title: "How To Make Millions In A Recession Market Crash",
                            description: "",
                            channelName: "Mark Tilbury"
                        },
                        {
                            src: "https://www.youtube.com/embed/udiEkZSvS5E",
                            title: "The Stock Market Crash Of 2024 | What You Must Know",
                            description: "",
                            channelName: "Mark Tilbury"
                        },
                        {
                            src: "https://www.youtube.com/embed/Jd8Xv1v51vU",
                            title: "How I Pick My Stocks: Investing For Beginners",
                            description: "",
                            channelName: "Mark Tilbury"
                        },
                        {
                            src: "https://www.youtube.com/embed/Izw-xaVkO0g",
                            title: "10 Crucial Personal Finance Lessons That Transformed My Life",
                            description: "",
                            channelName: "Humphrey Yang"
                        },
                        {
                            src: "https://www.youtube.com/embed/jXxs4USFeiM",
                            title: "7 Middle Class Habits Keeping You in the Rat Race",
                            description: "",
                            channelName: "Humphrey Yang"
                        },
                        {
                            src: "https://www.youtube.com/embed/9Z8gPRXHpnY",
                            title: "5 Signs You’re on Track to Being a Multi-Millionaire",
                            description: "",
                            channelName: "Humphrey Yang"
                        },
                    ]
                },
                Science: {
                    videos: [
                        {
                            src: "https://www.youtube.com/embed/qf7ws2DF-zk",
                            title: "Why Democracy Is Mathematically Impossible",
                            description: "",
                            channelName: "Veritasium"
                        },
                        {
                            src: "https://www.youtube.com/embed/6akmv1bsz1M",
                            title: "Something Strange Happens When You Follow Einstein's Math",
                            description: "",
                            channelName: "Veritasium"
                        },
                        {
                            src: "https://www.youtube.com/embed/AF8d72mA41M",
                            title: "Why It Was Almost Impossible to Make the Blue LED",
                            description: "",
                            channelName: "Veritasium"
                        },
                        {
                            src: "https://www.youtube.com/embed/VPSm9gJkPxU",
                            title: "Nature's Incredible ROTATING MOTOR (It’s Electric!) - Smarter Every Day 300",
                            description: "",
                            channelName: "SmarterEveryDay"
                        },
                        {
                            src: "https://www.youtube.com/embed/bQF51mqzrY4",
                            title: "I Accidentally Photographed Something Unknown During the Eclipse - Smarter Every Day 298",
                            description: "",
                            channelName: "SmarterEveryDay"
                        },
                        {
                            src: "https://www.youtube.com/embed/oTfXehFVFyk",
                            title: "The Amazing Engineering of Rescue Helicopters - Smarter Every Day 289",
                            description: "",
                            channelName: "SmarterEveryDay"
                        },
                        {
                            src: "https://www.youtube.com/embed/XK4yjmApcHo",
                            title: "The Strange Science of Why We Dream",
                            description: "",
                            channelName: "Be Smart"
                        },
                        {
                            src: "https://www.youtube.com/embed/Fre1WqHPq_M",
                            title: "The Sun is NOT the Center of the Solar System",
                            description: "",
                            channelName: "Be Smart"
                        },
                        {
                            src: "https://www.youtube.com/embed/uJcXCdbm77g",
                            title: "Space is Full of Junk. Here’s How to Clean It Up…",
                            description: "",
                            channelName: "Be Smart"
                        },
                    ]
                },
                Productivity: {
                    videos: [
                        {
                            src: "https://www.youtube.com/embed/iuHuxX22OOQ",
                            title: "How to Design Your Dream Life (in 7 Minutes)",
                            description: "",
                            channelName: "Ali Abdaal"
                        },
                        {
                            src: "https://www.youtube.com/embed/zZ45ydPJg_U",
                            title: "5 Productive Things I Do Instead of Mindless Scrolling",
                            description: "",
                            channelName: "Ali Abdaal"
                        },
                        {
                            src: "https://www.youtube.com/embed/tjjqyiHczcc",
                            title: "You're Destroying Your Mind - How to Control Dopamine",
                            description: "",
                            channelName: "Ali Abdaal"
                        },
                        {
                            src: "https://www.youtube.com/embed/GIRkQQHzsxI",
                            title: "This Simple Productivity System Made Me $100 Million",
                            description: "",
                            channelName: "Alex Hormozi"
                        },
                        {
                            src: "https://www.youtube.com/embed/cfiw3lwrkp0",
                            title: "I stay productive 98% of every day - Here's how",
                            description: "",
                            channelName: "Sebastian Ghiorghiu"
                        },
                        {
                            src: "https://www.youtube.com/embed/-oXigF0frLE",
                            title: "How to Achieve More in 1 Week than Most People Do in 12 months",
                            description: "",
                            channelName: "Clark Kegley"
                        },
                    ]
                },
            };


            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            function getRandomSample(array, n) {
                return shuffleArray(array).slice(0, n);
            }

            const storedCategories = JSON.parse(localStorage.getItem('selectedCategories'));
            if (storedCategories == null) {
                location.href = "index.html";
            }

            function addVideoToContainer(container, video) {
                // Create a container for the video and its details
                const videoWrapper = document.createElement('div');
                videoWrapper.style.marginBottom = '64px'; // Add some spacing between videos

                // Create and configure the iframe
                const iframe = document.createElement('iframe');
                iframe.width = '560'; // Set width of iframe
                iframe.height = '315'; // Set height of iframe
                iframe.src = video.src;
                iframe.frameBorder = '0';
                iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
                iframe.allowFullscreen = true;

                // Create and configure the title element
                const titleElement = document.createElement('h3');
                titleElement.textContent = video.title;

                // Create and configure the description element
                const descriptionElement = document.createElement('p');
                descriptionElement.textContent = video.description;

                // Create and configure the channel name element
                const channelElement = document.createElement('p');
                channelElement.textContent = `${video.channelName}`;
                channelElement.style.fontWeight = 'bold'; // Optional: Make the channel name bold

                // Append the iframe and details to the video wrapper
                videoWrapper.appendChild(iframe);
                videoWrapper.appendChild(titleElement);
                videoWrapper.appendChild(descriptionElement);
                videoWrapper.appendChild(channelElement);

                // Append the video wrapper to the main container
                container.appendChild(videoWrapper);
            }

            const container = document.getElementById("videoContainer");

            let allVideos = [];

            // Combine videos from all selected categories into one array
            for (const category of storedCategories) {
                const videos = library[category].videos;
                const randomVideos = getRandomSample(videos, 2);
                allVideos = allVideos.concat(randomVideos);
            }

            // Shuffle the combined array of videos
            const shuffledVideos = shuffleArray(allVideos);

            // Display the videos
            for (const video of shuffledVideos) {
                addVideoToContainer(container, video);
            }

        </script>
    </body>
</html>